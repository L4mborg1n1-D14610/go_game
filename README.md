# Сетевая игра Go с графическим интерфейсом

сборка для [**ветви**](https://github.com/vasiliykadikov/go_game/tree/Go_forCI)
![Build Status](https://app.travis-ci.com/L4mborg1n1-D14610/go_checks.svg?branch=master)

Отличия из-за того, что сборка для **linux**

Для проекта использовалась библиотека   [**SFML**](https://github.com/SFML/SFML)

## Правила игры
У каждого камня или группы камней определяется понятие дыхания.
**Дыхание** — это число свободных перекрестков на доске.
```
У каждого камня может быть от двух до четырёх дыханий, в зависимости от их позиции.
```
```
Игроки ходят по очереди, ставя камни белого и черного цветов на пересечения линий.
```
```
Камень, или группа камней считается съеденной, если у него/неё не осталось дыханий.
Съеденные камни идут в общий счёт. В конце игры выигрывает тот игрок, у которого оказывается наибольший счет.
В счет идет количество съеденных камней и количество огороженных перекрестков.
```
*Ниже приведены изображения камней, имеющих соответственно 4, 3 и 2 дыхания*

![alt text](https://github.com/vasiliykadikov/go_game/blob/main/Images_for_md/1.png?raw=true)
![alt text](https://github.com/vasiliykadikov/go_game/blob/main/Images_for_md/2.png?raw=true)
![alt text](https://github.com/vasiliykadikov/go_game/blob/main/Images_for_md/3.png?raw=true)
## Структура проекта
    • Класс “Кнопка” (Button)
    • Класс “Игральный стол” (Table)
    • Класс “Камень” (TableStone)
    • Класс “Основное меню” (MainMenu)
    • Функции для основного меню (for_mainmenu)
    • Математические функции (math_functions)

- **Button** – класс, необходимый для создания кнопок, которые будут иметь текстовое поле, поле и методы,
необходимые для того, чтобы пользователь мог взаимодействовать с объектами этого класса посредством мыши и клавиатуры.
```
Текст этого класса имеет шрифт RodchenkoBTT.ttf, находится в папке fonts. 
```

*Вид главного меню с объектами класса Button*
![alt text](https://github.com/vasiliykadikov/go_game/blob/main/Images_for_md/4.png?raw=true)

**Table** – класс, объектом которого является игральный стол, хранящий данные о координатах пересечений линий,
необходимых для определения мест для того, чтобы поставить камень, которые являются объектом класса TableStone.

**TableStone** – класс, объектами которого являются игральные камни. Конструктор позволяет сознавать камни белого и черного цветов,
радиус их зависит от размера игрального стола, а координаты зависят от координаты курсора, которые проверяются в классе MainMenu.
```
Для того, чтобы камни не были чрезмерно однородные, в папке images находятся картинки,
которые загружаются в поле текстур данного класса.
```
**MainMenu** – класс, объединяющий в себе логику, описанных выше классов.

Имеет два основных цикла. 
```
Первый — с прорисовкой непосредственно главного меню. Пользователь имеет возможность либо создать лобби, либо присоединиться к нему, зная его название.
Пользователь, создающий лобби выбирает размер доски и цвет своих камней. 
```
```
Второй цикл включает в себя непосредственно процесс игры. 
Интерфейс включает в себя доску, камни, которые пользователи поставили на эту доску, счет съеденных камней, кнопку выхода из игры и кнопку добавить камень
(то есть отправить сопернику добавленный камень).
```
```
Также этот класс включает в себя методы, необходимые для удаления камней, у которых не осталось дыханий.
Программа для удобства создает так называемый фантомный камень на пересечении линий в соответствии с местоположением курсора,
а при нажатии на кнопку мыши создает настоящий камень.
```
Вид игровой части программы (описываемой вторым циклом)

![alt text](https://github.com/vasiliykadikov/go_game/blob/main/Images_for_md/5.png?raw=true)


Функции, помогающие определить где создавать камень в соответствии с местоположением курсора, находятся в класск  *Table*, а также в файле *math_functions*.


*Сетевая часть* реализована несколькими функциями, ожидающими подключения, а также отправляющими поставленные камни и ожидающие новых от соперника.
Кнопки, созданные в обоих циклах реагируют, меняя цвет при наведении на них курсора.
Добиться этого помогает ряд функций, находящихся в самом классе *MainMenu*, а также функции, находящиеся в файле  *for_mainmenu*.

## Структура сервера
    • Класс непосредственно сервера (server_for_go)
    • Класс игрового лобби (playtable)
Сервер реализован посредством библиотеки [**SFML/Network**](https://www.sfml-dev.org/documentation/2.5.1/group__network.php)
Схематический принцип работы сервера:

![alt text](https://github.com/vasiliykadikov/go_game/blob/main/Images_for_md/6.png?raw=true)

***Для того, чтобы запустить сервер на собственном устройстве***
необходимо в файле MainMenu.hpp в *335* строке изменить адресс ip адреса на тот, который выводит в консоль сервер

## Расположение файлов в репозитории

- Папка **Images** - изображения, используемые проектом

- Папка **fonts** - находится загруженный шрифт, который используется для создания текста в приложении

- Папка **server_for_go** - код сервера для этого приложения

- Папка **documents** - в ней расположены подготовленные ТЗ, РПЗ и презентация для курсового проекта

- **sources** и **include** - код самого проекта


